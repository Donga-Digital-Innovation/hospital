<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>응급실</title>
    <style>
        body{
            display: flex;
            gap: 10px;
        }

        .ward{
            width: 120px;
            height: 30px;
            display: none;
        }

        .seoul{
            display: block;
        }
        
        .city{
            width: 50px;
            height: 30px;
        }
    </style>
</head>
<body>
    <select class="city">
        <option value="11" selected="select">서울</option>
        <option value="12">부산</option>
        <option value="13">대구</option>
        <option value="14">인천</option>
        <option value="15">광주</option>
        <option value="16">대전</option>
        <option value="17">울산</option>
        <option value="18">세종</option>
        <option value="21">경기</option>
        <option value="22">강원</option>
        <option value="23">충북</option>
        <option value="24">충남</option>
        <option value="25">전북</option>
        <option value="26">전남</option>
        <option value="27">경북</option>
        <option value="28">경남</option>
        <option value="29">제주</option>
    </select>
    <select class="ward seoul"  onchange="showValue(this)">																				
        <option value="egen">선택</option>
        <option value="1101">강남구</option>
        <option value="1102">강동구</option>
        <option value="1103">강북구</option>
        <option value="1104">강서구</option>
        <option value="1105">관악구</option>
        <option value="1106">광진구</option>
        <option value="1107">구로구</option>
        <option value="1108">금천구</option>
        <option value="1109">노원구</option>
        <option value="1110">도봉구</option>
        <option value="1111">동대문구</option>
        <option value="1112">동작구</option>
        <option value="1113">마포구</option>
        <option value="1114">서대문구</option>
        <option value="1115">서초구</option>
        <option value="1116">성동구</option>
        <option value="1117">성북구</option>
        <option value="1118">송파구</option>
        <option value="1119">양천구</option>
        <option value="1120">영등포구</option>
        <option value="1121">용산구</option>
        <option value="1122">은평구</option>
        <option value="1123">종로구</option>
        <option value="1124">중구</option>
        <option value="1125">중랑구</option>
    </select>
    <select class="ward pusan">								
        <option value="egen">선택</option>
        <option value="1201">강서구</option>
        <option value="1202">금정구</option>
        <option value="1203">기장군</option>
        <option value="1204">남구</option>
        <option value="1205">동구</option>
        <option value="1206">동래구</option>
        <option value="1207">부산진구</option>
        <option value="1208">북구</option>
        <option value="1209">사상구</option>
        <option value="1210">사하구</option>
        <option value="1211">서구</option>
        <option value="1212">수영구</option>
        <option value="1213">연제구</option>
        <option value="1214">영도구</option>
        <option value="1215">중구</option>
        <option value="1216">해운대구</option>
    </select>
    <select class="ward daegu">										
        <option value="egen">선택</option>
        <option value="1301">남구</option>
        <option value="1302">달서구</option>
        <option value="1303">달성군</option>
        <option value="1304">동구</option>
        <option value="1305">북구</option>
        <option value="1306">서구</option>
        <option value="1307">수성구</option>
        <option value="1308">중구</option>
    </select>
    <select class="ward incheon">								
        <option value="egen">선택</option>
        <option value="1401">강화군</option>
        <option value="1402">계양구</option>
        <option value="1403">미추홀구</option>
        <option value="1404">남동구</option>
        <option value="1405">동구</option>
        <option value="1406">부평구</option>
        <option value="1407">서구</option>
        <option value="1408">연수구</option>
        <option value="1409">옹진군</option>
        <option value="1410">중구</option>
    </select>
    <select class="ward Gwangju">									
        <option value="egen">선택</option>
        <option value="1501">광산구</option>
        <option value="1502">남구</option>
        <option value="1503">동구</option>
        <option value="1504">북구</option>
        <option value="1505">서구</option>
    </select>
    <select class="ward daejeon">																			
        <option value="egen">선택</option>
        <option value="1601">대덕구</option>
        <option value="1602">동구</option>
        <option value="1603">서구</option>
        <option value="1604">유성구</option>
        <option value="1605">중구</option>
    </select>
    <select class="ward Ulsan">										
        <option value="egen">선택</option>
        <option value="1701">남구</option>
        <option value="1702">동구</option>
        <option value="1703">북구</option>
        <option value="1704">울주군</option>
        <option value="1705">중구</option>
    </select>
    <select class="ward Sejong">										
        <option value="egen">선택</option>
        <option value="1801">세종시</option>
    </select>
    <select class="ward Gyeongi">						
        <option value="egen">선택</option>
        <option value="2101">가평군</option>
        <option value="2102">고양시 덕양구</option>
        <option value="2103">고양시 일산동구</option>
        <option value="2104">고양시 일산서구</option>
        <option value="2105">과천시</option>
        <option value="2106">광명시</option>
        <option value="2107">광주시</option>
        <option value="2108">구리시</option>
        <option value="2109">군포시</option>
        <option value="2110">김포시</option>
        <option value="2111">남양주시</option>
        <option value="2112">동두천시</option>
        <option value="2113">부천시</option>
        <option value="2116">성남시 분당구</option>
        <option value="2117">성남시 수정구</option>
        <option value="2118">성남시 중원구</option>
        <option value="2119">수원시 권선구</option>
        <option value="2120">수원시 영통구</option>
        <option value="2121">수원시 장안구</option>
        <option value="2122">수원시 팔달구</option>
        <option value="2123">시흥시</option>
        <option value="2124">안산시 단원구</option>
        <option value="2125">안산시 상록구</option>
        <option value="2126">안성시</option>
        <option value="2127">안양시 동안구</option>
        <option value="2128">안양시 만안구</option>
        <option value="2129">양주시</option>
        <option value="2130">양평군</option>
        <option value="2131">여주시</option>
        <option value="2132">연천군</option>
        <option value="2133">오산시</option>
        <option value="2134">용인시 기흥구</option>
        <option value="2135">용인시 수지구</option>
        <option value="2136">용인시 처인구</option>
        <option value="2137">의왕시</option>
        <option value="2138">의정부시</option>
        <option value="2139">이천시</option>
        <option value="2140">파주시</option>
        <option value="2141">평택시</option>
        <option value="2142">포천시</option>
        <option value="2143">하남시</option>
        <option value="2144">화성시</option>
    </select>
    <select class="ward Kangwon">					
        <option value="egen">선택</option>
        <option value="2201">강릉시</option>
        <option value="2202">고성군</option>
        <option value="2203">동해시</option>
        <option value="2204">삼척시</option>
        <option value="2205">속초시</option>
        <option value="2206">양구군</option>
        <option value="2207">양양군</option>
        <option value="2208">영월군</option>
        <option value="2209">원주시</option>
        <option value="2210">인제군</option>
        <option value="2211">정선군</option>
        <option value="2212">철원군</option>
        <option value="2213">춘천시</option>
        <option value="2214">태백시</option>
        <option value="2215">평창군</option>
        <option value="2216">홍천군</option>
        <option value="2217">화천군</option>
        <option value="2218">횡성군</option>
    </select>
    <select class="ward ChungNorth">										
        <option value="egen">선택</option>
        <option value="2301">괴산군</option>
        <option value="2302">단양군</option>
        <option value="2303">보은군</option>
        <option value="2304">영동군</option>
        <option value="2305">옥천군</option>
        <option value="2306">음성군</option>
        <option value="2307">제천시</option>
        <option value="2308">증평군</option>
        <option value="2309">진천군</option>
        <option value="2310">청주시 상당구</option>
        <option value="2311">청주시 서원구</option>
        <option value="2312">청주시 청원구</option>
        <option value="2313">청주시 흥덕구</option>
        <option value="2314">충주시</option>
    </select>
    <select class="ward ChungSouth">									
        <option value="egen">선택</option>
        <option value="2401">계룡시</option>
        <option value="2402">공주시</option>
        <option value="2403">금산군</option>
        <option value="2404">논산시</option>
        <option value="2405">당진시</option>
        <option value="2406">보령시</option>
        <option value="2407">부여군</option>
        <option value="2408">서산시</option>
        <option value="2409">서천군</option>
        <option value="2410">아산시</option>
        <option value="2411">예산군</option>
        <option value="2412">천안시 동남구</option>
        <option value="2413">천안시 서북구</option>
        <option value="2414">청양군</option>
        <option value="2415">태안군</option>
        <option value="2416">홍성군</option>
    </select>
    <select class="ward JeonNorth">								
        <option value="egen">선택</option>
        <option value="2501">고창군</option>
        <option value="2502">군산시</option>
        <option value="2503">김제시</option>
        <option value="2504">남원시</option>
        <option value="2505">무주군</option>
        <option value="2506">부안군</option>
        <option value="2507">순창군</option>
        <option value="2508">완주군</option>
        <option value="2509">익산시</option>
        <option value="2510">임실군</option>
        <option value="2511">장수군</option>
        <option value="2512">전주시 덕진구</option>
        <option value="2513">전주시 완산구</option>
        <option value="2514">정읍시</option>
        <option value="2515">진안군</option>
    </select>
    <select class="ward JeonSouth">						
        <option value="egen">선택</option>
        <option value="2601">강진군</option>
        <option value="2602">고흥군</option>
        <option value="2603">곡성군</option>
        <option value="2604">광양시</option>
        <option value="2605">구례군</option>
        <option value="2606">나주시</option>
        <option value="2607">담양군</option>
        <option value="2608">목포시</option>
        <option value="2609">무안군</option>
        <option value="2610">보성군</option>
        <option value="2611">순천시</option>
        <option value="2612">신안군</option>
        <option value="2613">여수시</option>
        <option value="2614">영광군</option>
        <option value="2615">영암군</option>
        <option value="2616">완도군</option>
        <option value="2617">장성군</option>
        <option value="2618">장흥군</option>
        <option value="2619">진도군</option>
        <option value="2620">함평군</option>
        <option value="2621">해남군</option>
        <option value="2622">화순군</option>
    </select>
    <select class="ward GyeongNorth">									
        <option value="egen">선택</option>
        <option value="2701">경산시</option>
        <option value="2702">경주시</option>
        <option value="2703">고령군</option>
        <option value="2704">구미시</option>
        <option value="2705">군위군</option>
        <option value="2706">김천시</option>
        <option value="2707">문경시</option>
        <option value="2708">봉화군</option>
        <option value="2709">상주시</option>
        <option value="2710">성주군</option>
        <option value="2711">안동시</option>
        <option value="2712">영덕군</option>
        <option value="2713">영양군</option>
        <option value="2714">영주시</option>
        <option value="2715">영천시</option>
        <option value="2716">예천군</option>
        <option value="2717">울릉군</option>
        <option value="2718">울진군</option>
        <option value="2719">의성군</option>
        <option value="2720">청도군</option>
        <option value="2721">청송군</option>
        <option value="2722">칠곡군</option>
        <option value="2723">포항시 남구</option>
        <option value="2724">포항시 북구</option>
    </select>
    <select class="ward GyeongSouth">									
        <option value="egen">선택</option>
        <option value="2801">거제시</option>
        <option value="2802">거창군</option>
        <option value="2803">고성군</option>
        <option value="2804">김해시</option>
        <option value="2805">남해군</option>
        <option value="2806">밀양시</option>
        <option value="2807">사천시</option>
        <option value="2808">산청군</option>
        <option value="2809">양산시</option>
        <option value="2810">의령군</option>
        <option value="2811">진주시</option>
        <option value="2812">창녕군</option>
        <option value="2813">창원시 마산합포구</option>
        <option value="2814">창원시 마산회원구</option>
        <option value="2815">창원시 성산구</option>
        <option value="2816">창원시 의창구</option>
        <option value="2817">창원시 진해구</option>
        <option value="2818">통영시</option>
        <option value="2819">하동군</option>
        <option value="2820">함안군</option>
        <option value="2821">함양군</option>
        <option value="2822">합천군</option>
    </select>
    <select class="ward Jeju">										
        <option value="egen">선택</option>
        <option value="2901">서귀포시</option>
        <option value="2902">제주시</option>
    </select>
</body>
<script>
    const showValue = (target) => {
        const value = target.value;
        const text =  target.options[target.selectedIndex].text;

        const xhr = new XMLHttpRequest();
        const url = 'http://apis.data.go.kr/B552657/ErmctInfoInqireService/getEmrrmRltmUsefulSckbdInfoInqire'; /*URL*/
        let queryParams = '?' + encodeURIComponent('serviceKey') + '='+'t%2FgbeR9lf0CZXSorz5rzLkt9dWXAPLweTEHfFcHZKtkzj2ytxA9gRDeISfNLd7ITtyGoAznf%2Bc%2FxS8UEy6yzLQ%3D%3D'; /*Service Key*/
        queryParams += '&' + encodeURIComponent('STAGE1') + '=' + encodeURIComponent('서울'); /**/
        queryParams += '&' + encodeURIComponent('STAGE2') + '=' + encodeURIComponent(text); /**/
        queryParams += '&' + encodeURIComponent('pageNo') + '=' + encodeURIComponent('1'); /**/
        queryParams += '&' + encodeURIComponent('numOfRows') + '=' + encodeURIComponent('10'); /**/
        xhr.open('GET', url + queryParams);
        xhr.onreadystatechange = function () {
            if (this.readyState == 4) {
                alert('가용 가능 병상: '+this.responseText.split("<body>")[1])
            }
        };
    
        xhr.send('');
    }

</script>
</html>